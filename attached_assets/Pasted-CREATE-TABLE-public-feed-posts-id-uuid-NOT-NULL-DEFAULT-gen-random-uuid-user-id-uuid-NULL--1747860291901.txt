CREATE TABLE public.feed_posts (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  user_id uuid NULL,
  content text NOT NULL,
  image_url text NULL,
  likes_count integer NULL DEFAULT 0,
  comments_count integer NULL DEFAULT 0,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT feed_posts_pkey PRIMARY KEY (id),
  CONSTRAINT feed_posts_user_id_fkey FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE
);

CREATE TABLE public.goals (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  user_id uuid NULL,
  title text NOT NULL,
  description text NULL,
  category text NULL,
  timeframe text NULL,
  completed boolean NULL DEFAULT false,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT goals_pkey PRIMARY KEY (id),
  CONSTRAINT goals_user_id_fkey FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE
);

CREATE TABLE public.institution_events (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  institution_id uuid NULL,
  title text NOT NULL,
  description text NOT NULL,
  event_type text NOT NULL,
  start_date timestamp with time zone NOT NULL,
  end_date timestamp with time zone NULL,
  location text NULL,
  image_url text NULL,
  registration_url text NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT institution_events_pkey PRIMARY KEY (id),
  CONSTRAINT institution_events_institution_id_fkey FOREIGN KEY (institution_id) REFERENCES institution_profiles(id) ON DELETE CASCADE
);

CREATE TABLE public.institution_gallery (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  institution_id uuid NULL,
  image_url text NOT NULL,
  caption text NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT institution_gallery_pkey PRIMARY KEY (id),
  CONSTRAINT institution_gallery_institution_id_fkey FOREIGN KEY (institution_id) REFERENCES institution_profiles(id) ON DELETE CASCADE
);

CREATE TABLE public.institution_profiles (
  id uuid NOT NULL,
  institution_name text NOT NULL,
  institution_type text NOT NULL,
  category text NOT NULL,
  website text NULL,
  logo_url text NULL,
  cover_image_url text NULL,
  verified boolean NULL DEFAULT false,
  onboarding_completed boolean NULL DEFAULT false,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT institution_profiles_pkey PRIMARY KEY (id),
  CONSTRAINT institution_profiles_id_fkey FOREIGN KEY (id) REFERENCES profiles(id) ON DELETE CASCADE
);

CREATE TABLE public.institution_programs (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  institution_id uuid NULL,
  name text NOT NULL,
  type text NOT NULL,
  level text NOT NULL,
  duration text NOT NULL,
  duration_type text NOT NULL,
  description text NOT NULL,
  eligibility text NULL,
  outcomes text NULL,
  assessment text NULL,
  certification text NULL,
  schedule text NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  updated_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT institution_programs_pkey PRIMARY KEY (id),
  CONSTRAINT institution_programs_institution_id_fkey FOREIGN KEY (institution_id) REFERENCES institution_profiles(id) ON DELETE CASCADE
);

CREATE TABLE public.interests (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  name text NOT NULL,
  category text NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT interests_pkey PRIMARY KEY (id),
  CONSTRAINT interests_name_key UNIQUE (name)
);

CREATE TABLE public.mentor_availability (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  mentor_id uuid NULL,
  time_slot text NOT NULL,
  created_at timestamp with time zone NOT NULL DEFAULT now(),
  CONSTRAINT mentor_availability_pkey PRIMARY KEY (id),
  CONSTRAINT mentor_availability_mentor_id_time_slot_key UNIQUE (mentor_id, time_slot),
  CONSTRAINT mentor_availability_mentor_id_fkey FOREIGN KEY (mentor_id) REFERENCES mentor_profiles(id) ON DELETE CASCADE
);

CREATE TABLE public.mentor_experience (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  mentor_id uuid NULL,
  title text NOT NULL,
  organization text NOT NULL,
  start_date date NOT NULL,
  end_date date NULL,
  current boolean NULL DEFAULT false,
  description text NULL,